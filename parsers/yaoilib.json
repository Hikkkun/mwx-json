{
	"id": 1468,
	"version": 4,
	
	"title": "YaoiLib",
	"host": "https://v1.slashlib.me/",
	"public_link": "https://v1.slashlib.me/manga-list?sort=rating_score&dir=desc&page=1",
	"folder": "yaoilib",
	"name" : "yaoilib",
	"language": "ru",
	"is_paid": true,
	"is_mature": true,
	"skip_catalog_test": false,
	"icon_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/img/yaoilib.png",
	"self_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/parsers/yaoilib.json",
	"self_link2": "https://fant.my1.ru/mwparser/mwx/json/yaoilib.json",
	"catalog_link": "https://raw.githubusercontent.com/veopot/mwx-json/main/catalogs/yaoilib.zip",
    "file_type": "sqlite",
	"author": {"name":"Veopot","email":"fant-net@ya.ru"},

	

	"manga_search_complete": {
        "headers": {
		
		"User-Agent": "Mozilla/5.0 (Windows NT 6.3; WOW64)",
        "Accept": "image/webp,*/*;q=0.8",
        "Referer": "https://v1.slashlib.me/"
		},
				
		"search_link": "https://v1.slashlib.me/search?type=manga&q=$query$",
		"query_type": "GET",
		"add_manga": {
			"next":   "moder_id",
			
			"link":   {  "before": "\"metadata\"",  "token1": "slug\":\"", "token2": "\",", 
			"replace" : {"prefix": "https://v1.slashlib.me/" } },
			
			"title":  { "before": "\"metadata\"", "token1": "rus_name\":\"", "token2": "\",\"slug\":", 
			"replace" : { "match" : "\",\"eng_name\":\"", "text" : " | " } },
			
			"cover":  {  "token1": "default\":\"", "token2": "\"" , 
			"replace" : { "match":"\\\\","text":""}}
		}
	},


	"manga_list_complete": {
		"headers": {
		
		"User-Agent": "Mozilla/5.0 (Windows NT 6.3; WOW64)",
        "Accept": "image/webp,*/*;q=0.8",
		"cookie" :"remember_web_59ba36addc2b2f9401580f014c7f58ea4e30989d=eyJpdiI6IkROeDd1K0dqRFV3TTkrSUFjSmI2K0E9PSIsInZhbHVlIjoiTlZCT2RhaVp0bEMyTEorR1BvNkhyV005RFJrNXF0dU8zN291RnBNN05EdDJ5UEV5UkJrM0xTRE1uNW0zdzZoaXhBNjYwR0dYMS9JVmtPNkFvUzhyUCttNGdPNVJuZklLTlFyZ0M0M2dUcG5ELzdEWGthM0RXbHF2dHlKS09leDFYaGNUZWhlNmw5S25CcEFFYzNzWitGaHVGZUloWFFGSlo5eElJSHFWTXVRNjV1OFhza2J5VzEwOTc2T2NMT01IRkIzOVY5M0NJbmc5c1hKVVphSkZjdVRtb2tmbjZZSE9oR1BEVERrMkpqMD0iLCJtYWMiOiJmOWZjY2IyNTg3YmQyMTJlY2FkNGFlOTBhZGE4ZjU3ZDMxZGUwODJlOTA1YzYxY2Q4OWI0OWFiOTIzZGM4ODlhIiwidGFnIjoiIn0%3D",
        "Referer": "%%url%%"
		
		},
		
		
		 "iterator": {
            "base_url": "https://v1.slashlib.me/manga-list?sort=rate&dir=desc&genres[include][]=74&site_id=2&type=manga&caution_list[]=%D0%9E%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82&caution_list[]=16+&caution_list[]=18+&page=",
            "append_nums": {
				"from": 1,
				"to": 30
			}
        },
		"add_manga": {
			"start": "id=\"manga-list\">",
			"end": "<div id=\"manga-list-filter\">",
			"next":   "<a class=\"media-card\"",
			"title":  { "token1": "class=\"media-card__title line-clamp\">", "token2": "</" },
			"link":   { "token1": "href=\"", "token2": "\"" },
				
			"uniq":   { "token1": "data-media-slug=\"", "token2": "\""}
			
		},
		"link_corrector": [
            {
                "match": "slashlib.me/(.*?)\\?section=(.*)",
                "text": "slashlib.me/$1"
            }
        ],
        "rating_auto_inc": {
            "start": 50000,
            "inc": -1
        }
	},


	"manga_complete": {
	    "headers": {
		
		"User-Agent": "Mozilla/5.0 (Windows NT 6.3; WOW64)",
        "Accept": "image/webp,*/*;q=0.8",
		"cookie" :"remember_web_59ba36addc2b2f9401580f014c7f58ea4e30989d=eyJpdiI6IkROeDd1K0dqRFV3TTkrSUFjSmI2K0E9PSIsInZhbHVlIjoiTlZCT2RhaVp0bEMyTEorR1BvNkhyV005RFJrNXF0dU8zN291RnBNN05EdDJ5UEV5UkJrM0xTRE1uNW0zdzZoaXhBNjYwR0dYMS9JVmtPNkFvUzhyUCttNGdPNVJuZklLTlFyZ0M0M2dUcG5ELzdEWGthM0RXbHF2dHlKS09leDFYaGNUZWhlNmw5S25CcEFFYzNzWitGaHVGZUloWFFGSlo5eElJSHFWTXVRNjV1OFhza2J5VzEwOTc2T2NMT01IRkIzOVY5M0NJbmc5c1hKVVphSkZjdVRtb2tmbjZZSE9oR1BEVERrMkpqMD0iLCJtYWMiOiJmOWZjY2IyNTg3YmQyMTJlY2FkNGFlOTBhZGE4ZjU3ZDMxZGUwODJlOTA1YzYxY2Q4OWI0OWFiOTIzZGM4ODlhIiwidGFnIjoiIn0%3D",
        "Referer": "%%url%%"
		
		},
		
		
		
		"title": { "after": "<div class=\"media-name__main",
		"token1":"\">",
		"token2": "<div class=\"media-rating-wrap\">",
			"replace": [{ "match": "<div class=\"media-name__alt\">", "text": "| " },
			{ "match": "<.*>", "text": "" }
			]
		},		
		"additional_title": {
			"skip": ">Альтернативные названия<",
            "token1": "<div>",
            "token2": "</div>"
        },
		"uniq":  { "after": "property=\"og:site_name\"",
		"token1":"content=\"https://v1.slashlib.me/",
		"token2": "\""
		},
		
		
		"author":      { "skip": ">Автор<", "token1":"\">", "token2": "</a>",
			"replace": { "match": "<.*>", "text": " " } },
		
		
		"summary":     { "after": "itemprop=\"description\"", "token1": "content=\"", "token2": "\"" },
		
		"cover":       { "skip": "<div class=\"section\">", 
		"token1": "<img src=\"",
		"token2": "\"" },
		
		"status":{ 
		
		"single": { "start": ">Формат выпуска</div>","end": " </a>",
			"values": [ "Сингл", "сингл"] },
		
		"complete": { "start": ">Статус перевода</div>","end": " </a>",
			"values": [ "Завершен", "завершен"] },
			
		"ongoing": { "start": ">Статус перевода</div>","end": " </a>",
			"values": [ "Продолжается", "продолжается" ] },
			
			
		"unknown": { "start": ">Статус перевода</div>","end": " </a>",
			"values": [ "Заморожен", "заморожен"] },
		
		"licensed": {  "values": [ "Манга удалена по просьбе правообладателей",
		"Данный тайтл лицензирован на территории РФ"] }
		},
		
		"content_type": {
			"manga": "class=\"media-info-list__value\">Манга<",
			"manhwa": "class=\"media-info-list__value\">Манхва<",
			"manhua": "class=\"media-info-list__title\">Формат выпуска<"
			
		},
		
			   
		"read_dir": { "right_to_left": ">Манга</div>", "left_to_right": ">Манхва</div>" },
		
		"add_genre": { "after": "manga-list?genres", "token1": ">", "token2": "</" },
		
		"add_tag": { "after": "manga-list?tags", "token1": ">", "token2": "</" },
		
		"is_mature": { "values": [">18+<", ">18<", ">эротика<", ">юри<", ">яой<"] },
		
		
		
		
		"add_chapter": {
			  "headers": {
	    "User-Agent": "Mozilla/5.0 (Windows NT 6.3; WOW64)",
        "Accept": "image/webp,*/*;q=0.8",
        "Referer": "https://v1.slashlib.me/"
		
		},
		
			"next":  "{\"chap",
			
			"link": {
			 
			"token1": "\"chapter_number\":",
            "token2": "\"chapter_moderated",
			"replace": [
                       
						{ "match" : "\"(.*?)(.*?)\",\"(.*?)chapter_volume\":(.*?),",  "text" : "/v$4/c$2" },
						{ "prefix" : "%%url%%" }
						]                  
            },
			
            "uniq": {
			     "token1": "\"chapter_number\":",
            "token2": "\"chapter_moderated",
			"replace": { "match" : "\"(.*?)(.*?)\",\"(.*?)chapter_volume\":(.*?),",  "text" : "Том $4 Глава $2" } 
            },
			
            "title": {
			     "token1": "\"chapter_number\":",
            "token2": "\"chapter_moderated",
			"replace": { "match" : "\"(.*?)(.*?)\",\"(.*?)chapter_volume\":(.*?),",  "text" : "Том $4 Глава $2" } 
            }
		}
	},
	"chapter_complete": {
   "headers": {
		"Referer": "https://v1.slashlib.me/",
"cookie" :"remember_web_59ba36addc2b2f9401580f014c7f58ea4e30989d=eyJpdiI6IkROeDd1K0dqRFV3TTkrSUFjSmI2K0E9PSIsInZhbHVlIjoiTlZCT2RhaVp0bEMyTEorR1BvNkhyV005RFJrNXF0dU8zN291RnBNN05EdDJ5UEV5UkJrM0xTRE1uNW0zdzZoaXhBNjYwR0dYMS9JVmtPNkFvUzhyUCttNGdPNVJuZklLTlFyZ0M0M2dUcG5ELzdEWGthM0RXbHF2dHlKS09leDFYaGNUZWhlNmw5S25CcEFFYzNzWitGaHVGZUloWFFGSlo5eElJSHFWTXVRNjV1OFhza2J5VzEwOTc2T2NMT01IRkIzOVY5M0NJbmc5c1hKVVphSkZjdVRtb2tmbjZZSE9oR1BEVERrMkpqMD0iLCJtYWMiOiJmOWZjY2IyNTg3YmQyMTJlY2FkNGFlOTBhZGE4ZjU3ZDMxZGUwODJlOTA1YzYxY2Q4OWI0OWFiOTIzZGM4ODlhIiwidGFnIjoiIn0%3D"
		},
	
    	"images": true,
		"use_servers_only": true,
		
		"add_servers": { 
			"start": "\"img\":", 
			"token1": "{\"url\":\"", 
			"token2": "\"",
			"end": "\"server\"",
			"replace": [{"match" : "\\\\",  "text" : "" }, 
            { "prefix": "https://img33.imgslib.link" }
			]  			
			    
		},
        "add_pages": { 
            "start": "window.__pg",
            "token1": "\"u\":\"",
            "token2": "\"",
            "end": "}];"
        }
    },

	"test": [
		{
			"proc" : "manga_list_complete",
			
			"assert" : {
				"mangas" : [
            { "title" : "Логическая ошибка", 
            "link" : "https://v1.slashlib.me/semantic-error",
			"uniq" : "semantic-error" }
				],
				"mangas_count" : ">=50"
			}
		},
		{
			"proc" : "manga_complete",
			"link" : "https://v1.slashlib.me/semantic-error",
			"title" : "Логическая ошибка | Semantic Error",
			"assert" : {
				"author" : "@Jeosuri",
				"cover" : "@https://cover.imglib.info/uploads/cover/semantic-error/cover/e8kgec0GMpec_250x350.jpg",
				"summary" : "@^(Студент магистратуры факультета)",
				"genres" : "@comedy",
				"status" : "ongoing",
				"genres_count" : ">=3",
				"chapters_count" : ">=80",
				"chapters" : [
					{
            "folder": "Том 1 Глава 0\\",
            "link": "https://v1.slashlib.me/semantic-error/v1/c0",
            "title": "Том 1 Глава 0"
        },
        {
            "link": "https://v1.slashlib.me/semantic-error/v1/c1",
            "title": "Том 1 Глава 1"
        }
				]
			}
		},
		{
			"proc" : "chapter_complete",
			"link" : "https://v1.slashlib.me/semantic-error/v1/c1",
			"assert" : {
				"pages" : [
				
		{"image": "https://img33.imgslib.link/manga/semantic-error/chapters/825000/ищем_Y5n2.png"},
        {"image": "https://img33.imgslib.link/manga/semantic-error/chapters/825000/1_UKUS.png"},
        {"image": "https://img33.imgslib.link/manga/semantic-error/chapters/825000/Untitled-2_ms0z.png"}
		],
				"pages_count": "7"
			}
		}
	]
}
